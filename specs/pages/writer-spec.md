# 작가(Writer) 스펙 문서

## 개요

- **도메인**: 작가 (Writer Persona)
- **포함 페이지**: 작가 목록, 상세, 생성, 수정, 내 작가
- **관련 API**: /writers/\*
- **최종 업데이트**: 2025-12-10

---

## 페이지 1: 공개 작가 목록 (WritersPage)

### 페이지 정보

- **경로**: `/writers`
- **컴포넌트**: `WritersPage`
- **인증 필요**: 아니오 (단, 로그인 시 추가 기능)

### 기능 스펙

| 번호 | Domain                | User Story                             | UI 캡쳐 | 항목        | Spec.                                                                                                                 | 참고사항                    |
| ---- | --------------------- | -------------------------------------- | ------- | ----------- | --------------------------------------------------------------------------------------------------------------------- | --------------------------- |
| 1    | 페이지 헤더           | 사용자가 페이지에 접근한다             | -       | 헤더 영역   | • 제목: "Writers"<br>• 부제: "Explore AI writer personas with unique styles and genres"                               | -                           |
| 2    | 작가 생성 버튼        | 로그인한 사용자가 작가를 생성하려 한다 | -       | 헤더 우측   | • 로그인 시: "Create Writer" 버튼 표시 (+ 아이콘)<br>• 비로그인 시: 버튼 숨김<br>• 클릭 시 /writers/create로 이동     | 인증 필요                   |
| 3    | 작가 검색             | 사용자가 작가를 검색한다               | -       | 검색 영역   | • 검색어 입력 시 이름 기준 필터링<br>• 검색어 비어있으면 전체 조회<br>• 검색어 입력 시 자동 검색                      | WriterGallery 컴포넌트      |
| 4    | 장르 필터             | 사용자가 장르로 필터링한다             | -       | 필터 영역   | • 사용 가능한 장르 목록 표시<br>• 장르 클릭 시 해당 장르 작가만 표시<br>• 전체보기 옵션                               | API에서 장르 목록 조회      |
| 5    | 작가 카드             | 작가 목록이 표시된다                   | -       | 갤러리 영역 | • 작가 이미지 (없으면 기본 아이콘)<br>• 작가 이름<br>• 설명 (truncate)<br>• 장르 배지들<br>• 클릭 시 상세 페이지 이동 | 그리드 레이아웃             |
| 6    | 더보기 (페이지네이션) | 추가 작가를 로드한다                   | -       | 하단 영역   | • 더 많은 작가 있을 때만 표시<br>• 클릭 시 다음 페이지 로드<br>• 기존 목록에 추가 (무한 스크롤 방식)                  | meta.page < meta.totalPages |
| 7    | 빈 상태               | 작가가 없을 때                         | -       | 전체        | "No writers found. Be the first to create one!" 메시지 표시                                                           | -                           |
| 8    | 로딩 상태             | 데이터 로딩 중                         | -       | 전체        | 스켈레톤 또는 로딩 인디케이터 표시                                                                                    | -                           |
| 9    | 공개 범위             | 표시되는 작가 범위                     | -       | -           | • 비로그인: 공개 작가만<br>• 로그인: 공개 작가 + 본인의 비공개 작가                                                   | isPublic 필드               |

---

## 페이지 2: 작가 상세 (WriterDetailPage)

### 페이지 정보

- **경로**: `/writers/:id`
- **컴포넌트**: `WriterDetailPage`
- **인증 필요**: 아니오 (단, 본인 작가일 경우 추가 기능)

### 기능 스펙

| 번호 | Domain          | User Story                | UI 캡쳐 | 항목          | Spec.                                                                                                                                              | 참고사항               |
| ---- | --------------- | ------------------------- | ------- | ------------- | -------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------- |
| 1    | 작가 정보       | 작가 상세 정보를 확인한다 | -       | 메인 영역     | • 작가 이미지<br>• 작가 이름<br>• 설명 전체 표시<br>• 장르 배지                                                                                    | WriterDetails 컴포넌트 |
| 2    | 시스템 프롬프트 | 작가의 AI 지시사항 확인   | -       | 프롬프트 영역 | • 시스템 프롬프트 전체 표시<br>• 코드 블록 스타일                                                                                                  | 본인 작가만 표시 가능? |
| 3    | 수정 버튼       | 본인 작가를 수정한다      | -       | 액션 영역     | • 본인 작가일 때만 표시<br>• 클릭 시 /writers/:id/edit로 이동                                                                                      | isOwner 체크           |
| 4    | 삭제 버튼       | 본인 작가를 삭제한다      | -       | 액션 영역     | • 본인 작가일 때만 표시<br>• 클릭 시 확인 다이얼로그 표시<br>• "Are you sure you want to delete this writer?"<br>• 확인 시 삭제 후 /writers로 이동 | window.confirm 사용    |
| 5    | 소설 생성 버튼  | 이 작가로 소설을 생성한다 | -       | 액션 영역     | • "Generate Story" 버튼<br>• 클릭 시 /stories/generate?writerId={id}로 이동                                                                        | 로그인 필요            |
| 6    | 로딩 상태       | 작가 로딩 중              | -       | 전체          | 화면 중앙에 로딩 스피너 표시                                                                                                                       | Loader2 아이콘         |
| 7    | 404 상태        | 작가를 찾을 수 없을 때    | -       | 전체          | "Writer not found" 메시지 표시                                                                                                                     | -                      |
| 8    | 권한 체크       | 비공개 작가 접근 시       | -       | -             | • 공개 작가: 모두 접근 가능<br>• 비공개 작가: 소유자만 접근 가능<br>• 권한 없으면 404                                                              | 서버에서 체크          |

---

## 페이지 3: 작가 생성 (CreateWriterPage)

### 페이지 정보

- **경로**: `/writers/create`
- **컴포넌트**: `CreateWriterPage`
- **인증 필요**: 예 (비로그인 시 /login으로 리다이렉트)

### 기능 스펙

| 번호 | Domain          | User Story                | UI 캡쳐 | 항목      | Spec.                                                                                                                                                            | 참고사항                 |
| ---- | --------------- | ------------------------- | ------- | --------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------ |
| 1    | 인증 체크       | 비로그인 사용자가 접근 시 | -       | -         | /login으로 자동 리다이렉트                                                                                                                                       | useEffect에서 체크       |
| 2    | 뒤로가기        | 목록으로 돌아간다         | -       | 상단 링크 | • "Back to Writers" 링크<br>• 클릭 시 /writers로 이동                                                                                                            | ArrowLeft 아이콘         |
| 3    | 페이지 헤더     | 페이지에 접근한다         | -       | 헤더 영역 | • 제목: "Create Writer"<br>• 부제: "Design a new AI writer persona with a unique style"                                                                          | -                        |
| 4    | 이름 입력       | 작가 이름을 입력한다      | -       | 폼 필드   | • 라벨: "Writer Name \*"<br>• placeholder: "e.g., 하드보일드 탐정"<br>• 필수 입력<br>• 최소 2자, 최대 50자<br>• 글자수 카운터 표시                               | 검증 실패 시 에러 메시지 |
| 5    | 설명 입력       | 작가 설명을 입력한다      | -       | 폼 필드   | • 라벨: "Description \*"<br>• placeholder: "Describe this writer's style and specialty..."<br>• 필수 입력<br>• 최소 10자, 최대 500자<br>• 글자수 카운터 표시     | Textarea 3줄             |
| 6    | 시스템 프롬프트 | AI 지시사항을 입력한다    | -       | 폼 필드   | • 라벨: "System Prompt \*"<br>• 설명 텍스트 표시<br>• placeholder에 예시 포함<br>• 필수 입력<br>• 최소 100자, 최대 2000자<br>• 글자수 카운터 표시                | Textarea 12줄, monospace |
| 7    | 장르 선택       | 장르를 선택한다           | -       | 장르 영역 | • 라벨: "Genres \* (1-5)"<br>• 선택된 장르 배지 표시 (X 버튼으로 제거)<br>• 텍스트 입력 + Enter로 추가<br>• 추천 장르 배지 클릭으로 추가<br>• 최소 1개, 최대 5개 | 20개 추천 장르 제공      |
| 8    | 이미지 URL      | 이미지 URL을 입력한다     | -       | 폼 필드   | • 라벨: "Image URL (optional)"<br>• placeholder: "https://example.com/image.jpg"<br>• 선택 입력                                                                  | URL 형식만 허용          |
| 9    | 공개 설정       | 공개 여부를 설정한다      | -       | 체크박스  | • "Make this writer public (visible to all users)"<br>• 기본값: 체크됨 (공개)                                                                                    | isPublic 필드            |
| 10   | 취소 버튼       | 생성을 취소한다           | -       | 폼 하단   | • "Cancel" 버튼<br>• 클릭 시 /writers로 이동                                                                                                                     | outline variant          |
| 11   | 생성 버튼       | 작가를 생성한다           | -       | 폼 하단   | • "Create Writer" 버튼<br>• 로딩 중: 스피너 + 비활성화<br>• 성공 시 /writers/:id로 이동                                                                          | primary 스타일           |
| 12   | 클라이언트 검증 | 폼 제출 전 검증           | -       | -         | • 이름: 2-50자<br>• 설명: 10-500자<br>• 시스템 프롬프트: 100-2000자<br>• 장르: 1-5개<br>• 실패 시 해당 필드 아래 에러 메시지                                     | 빨간색 텍스트            |
| 13   | 서버 검증       | 서버 검증 실패 시         | -       | -         | 에러 메시지 표시 (서버에서 동일한 검증 규칙)                                                                                                                     | 동일한 제한              |

### 추천 장르 목록

느와르, 스릴러, 범죄, 미스터리, 로맨스, 드라마, 일상, 힐링, SF, 디스토피아, 사이버펑크, 우주, 판타지, 모험, 액션, 마법, 공포, 호러, 코미디, 유머

---

## 페이지 4: 작가 수정 (EditWriterPage)

### 페이지 정보

- **경로**: `/writers/:id/edit`
- **컴포넌트**: `EditWriterPage`
- **인증 필요**: 예 (비로그인 시 /login으로 리다이렉트)
- **권한 필요**: 본인 작가만 수정 가능

### 기능 스펙

| 번호 | Domain      | User Story                | UI 캡쳐 | 항목      | Spec.                                                                                        | 참고사항         |
| ---- | ----------- | ------------------------- | ------- | --------- | -------------------------------------------------------------------------------------------- | ---------------- |
| 1    | 인증 체크   | 비로그인 사용자가 접근 시 | -       | -         | /login으로 자동 리다이렉트                                                                   | -                |
| 2    | 권한 체크   | 본인 작가가 아닐 때       | -       | -         | /writers/:id로 리다이렉트                                                                    | userId 비교      |
| 3    | 뒤로가기    | 상세로 돌아간다           | -       | 상단 링크 | • "Back to Writer" 링크<br>• 클릭 시 /writers/:id로 이동                                     | -                |
| 4    | 페이지 헤더 | 페이지에 접근한다         | -       | 헤더 영역 | • 제목: "Edit Writer"<br>• 부제: "Update your AI writer persona"                             | -                |
| 5    | 폼 초기값   | 기존 데이터 로드          | -       | 폼 전체   | • 모든 필드에 기존 값이 채워짐<br>• 이름, 설명, 시스템 프롬프트, 장르, 이미지 URL, 공개 여부 | writer prop 전달 |
| 6    | 수정 검증   | 폼 제출 전 검증           | -       | -         | 생성과 동일한 검증 규칙 적용                                                                 | WriterForm 공유  |
| 7    | 취소 버튼   | 수정을 취소한다           | -       | 폼 하단   | • "Cancel" 버튼<br>• 클릭 시 /writers/:id로 이동                                             | -                |
| 8    | 수정 버튼   | 작가를 수정한다           | -       | 폼 하단   | • "Update Writer" 버튼<br>• 로딩 중: 스피너 + 비활성화<br>• 성공 시 /writers/:id로 이동      | -                |
| 9    | 로딩 상태   | 작가 로딩 중              | -       | 전체      | 화면 중앙에 로딩 스피너 표시                                                                 | -                |
| 10   | 404 상태    | 작가를 찾을 수 없을 때    | -       | 전체      | "Writer not found" 메시지 표시                                                               | -                |

---

## 페이지 5: 내 작가 (MyWritersPage)

### 페이지 정보

- **경로**: `/my-writers`
- **컴포넌트**: `MyWritersPage`
- **인증 필요**: 예 (비로그인 시 /login으로 리다이렉트)

### 기능 스펙

| 번호 | Domain                | User Story                | UI 캡쳐 | 항목        | Spec.                                                                                                                            | 참고사항            |
| ---- | --------------------- | ------------------------- | ------- | ----------- | -------------------------------------------------------------------------------------------------------------------------------- | ------------------- |
| 1    | 인증 체크             | 비로그인 사용자가 접근 시 | -       | -           | /login으로 자동 리다이렉트                                                                                                       | -                   |
| 2    | 페이지 헤더           | 페이지에 접근한다         | -       | 헤더 영역   | • 제목: "My Writers"<br>• 부제: "Manage your AI writer personas"                                                                 | -                   |
| 3    | 작가 생성 버튼        | 작가를 생성하려 한다      | -       | 헤더 우측   | • "Create Writer" 버튼 (+ 아이콘)<br>• 클릭 시 /writers/create로 이동                                                            | 항상 표시           |
| 4    | 내 작가 목록          | 본인 작가만 표시된다      | -       | 갤러리 영역 | • 공개/비공개 작가 모두 표시<br>• 공개 상태 표시 가능                                                                            | fetchMyWriters 사용 |
| 5    | 인라인 수정           | 작가를 수정한다           | -       | 카드 액션   | • 수정 버튼/아이콘 표시<br>• 클릭 시 /writers/:id/edit로 이동                                                                    | showActions=true    |
| 6    | 인라인 삭제           | 작가를 삭제한다           | -       | 카드 액션   | • 삭제 버튼/아이콘 표시<br>• 클릭 시 확인 다이얼로그<br>• '"{작가이름}"을 삭제하시겠습니까?'<br>• 확인 시 즉시 삭제 및 목록 갱신 | -                   |
| 7    | 더보기 (페이지네이션) | 추가 작가를 로드한다      | -       | 하단 영역   | • 더 많은 작가 있을 때만 표시<br>• 클릭 시 다음 페이지 로드                                                                      | -                   |
| 8    | 빈 상태               | 작가가 없을 때            | -       | 전체        | "You haven't created any writers yet. Create your first one!" 메시지 표시                                                        | -                   |
| 9    | 로딩 상태             | 데이터 로딩 중            | -       | 전체        | 스켈레톤 또는 로딩 인디케이터 표시                                                                                               | -                   |

---

## 검증 규칙 요약

| 필드         | 최소  | 최대   | 필수 | 비고         |
| ------------ | ----- | ------ | ---- | ------------ |
| name         | 2자   | 50자   | O    | -            |
| description  | 10자  | 500자  | O    | -            |
| systemPrompt | 100자 | 2000자 | O    | AI 지시사항  |
| genre        | 1개   | 5개    | O    | 배열         |
| imageUrl     | -     | -      | X    | URL 형식     |
| isPublic     | -     | -      | X    | 기본값: true |

---

## 권한 매트릭스

| 기능                    | 비로그인 | 로그인 (타인) | 로그인 (본인) |
| ----------------------- | -------- | ------------- | ------------- |
| 공개 작가 목록 조회     | O        | O             | O             |
| 비공개 작가 조회        | X        | X             | O             |
| 작가 상세 보기 (공개)   | O        | O             | O             |
| 작가 상세 보기 (비공개) | X        | X             | O             |
| 작가 생성               | X        | O             | O             |
| 작가 수정               | X        | X             | O             |
| 작가 삭제               | X        | X             | O             |
| 내 작가 목록            | X        | O (본인만)    | O             |

---

## QA 테스트 시나리오

### 작가 목록 테스트

| #   | 시나리오                   | 기대 결과                                               |
| --- | -------------------------- | ------------------------------------------------------- |
| 1   | 비로그인으로 /writers 접근 | 공개 작가만 표시, "Create Writer" 버튼 없음             |
| 2   | 로그인 후 /writers 접근    | 공개 + 본인 비공개 작가 표시, "Create Writer" 버튼 표시 |
| 3   | 검색어 입력                | 이름에 검색어 포함된 작가만 표시                        |
| 4   | 장르 필터 선택             | 해당 장르 작가만 표시                                   |
| 5   | 더보기 클릭                | 추가 작가 로드, 기존 목록 유지                          |

### 작가 생성 테스트

| #   | 시나리오                          | 기대 결과                                                    |
| --- | --------------------------------- | ------------------------------------------------------------ |
| 1   | 비로그인으로 /writers/create 접근 | /login으로 리다이렉트                                        |
| 2   | 모든 필드 유효하게 입력           | 생성 성공, 상세 페이지로 이동                                |
| 3   | 이름 1자 입력                     | "Name must be between 2 and 50 characters" 에러              |
| 4   | 시스템 프롬프트 99자 입력         | "System prompt must be between 100 and 2000 characters" 에러 |
| 5   | 장르 0개 상태에서 제출            | "At least one genre is required" 에러                        |
| 6   | 장르 6개 추가 시도                | 5개에서 추가 입력 비활성화                                   |
| 7   | 추천 장르 클릭                    | 장르 목록에 추가                                             |
| 8   | 장르 X 버튼 클릭                  | 해당 장르 제거                                               |

### 작가 수정/삭제 테스트

| #   | 시나리오                          | 기대 결과                  |
| --- | --------------------------------- | -------------------------- |
| 1   | 본인 작가 상세에서 수정 버튼 클릭 | /writers/:id/edit로 이동   |
| 2   | 타인 작가 수정 페이지 직접 접근   | 상세 페이지로 리다이렉트   |
| 3   | 작가 삭제 확인                    | 삭제 완료, /writers로 이동 |
| 4   | 작가 삭제 취소                    | 상태 유지, 삭제 안됨       |

---

## 성능 요구사항

| 기능           | 목표 시간 |
| -------------- | --------- |
| 작가 목록 조회 | < 500ms   |
| 작가 상세 조회 | < 300ms   |
| 작가 생성      | < 500ms   |
| 작가 수정      | < 500ms   |
| 작가 삭제      | < 300ms   |
| 페이지 로드    | < 1초     |

---

## 접근성 요구사항

- 모든 입력 필드에 Label 연결
- 키보드만으로 폼 작성 가능
- 장르 배지 키보드 포커스 가능
- 에러 메시지 스크린리더 접근 가능
- 로딩 상태 시각적 표시
- 삭제 확인 다이얼로그 키보드 접근 가능
