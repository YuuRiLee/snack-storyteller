# 인증(Auth) 스펙 문서

## 개요

- **도메인**: 인증 (Authentication)
- **포함 페이지**: 로그인, 회원가입
- **관련 API**: /auth/\*
- **최종 업데이트**: 2025-12-10

---

## 페이지 1: 로그인 (LoginPage)

### 페이지 정보

- **경로**: `/login`
- **컴포넌트**: `LoginPage`
- **인증 필요**: 아니오 (비로그인 사용자 접근)

### 기능 스펙

| 번호 | Domain          | User Story                             | UI 캡쳐 | 항목          | Spec.                                                                                                                                   | 참고사항                  |
| ---- | --------------- | -------------------------------------- | ------- | ------------- | --------------------------------------------------------------------------------------------------------------------------------------- | ------------------------- |
| 1    | 페이지 레이아웃 | 사용자가 로그인 페이지에 접근한다      | -       | 전체 화면     | 화면 중앙에 로그인 카드가 표시됨. 제목 "Welcome Back"과 부제 "Sign in to access your writers and stories" 표시                          | 다크 테마 배경            |
| 2    | 이메일 입력     | 사용자가 이메일을 입력한다             | -       | 이메일 필드   | • 라벨: "Email"<br>• placeholder: "you@example.com"<br>• 필수 입력 (required)<br>• HTML5 이메일 형식 검증<br>• 로딩 중 비활성화         | type="email" 사용         |
| 3    | 비밀번호 입력   | 사용자가 비밀번호를 입력한다           | -       | 비밀번호 필드 | • 라벨: "Password"<br>• placeholder: "Your password"<br>• 필수 입력 (required)<br>• 마스킹 처리 (type="password")<br>• 로딩 중 비활성화 | 클라이언트 길이 검증 없음 |
| 4    | 로그인 버튼     | 사용자가 로그인 버튼을 클릭한다        | -       | 제출 버튼     | • 버튼 텍스트: "Sign In"<br>• 전체 너비 (w-full)<br>• 로딩 중: 스피너 아이콘 + 비활성화<br>• 이메일/비밀번호 미입력 시 HTML5 기본 검증  | primary 스타일            |
| 5    | 로그인 성공     | 로그인이 성공하면                      | -       | 전체          | • /writers 페이지로 자동 이동<br>• JWT 토큰 저장 (localStorage)<br>• 사용자 정보 저장                                                   | 리다이렉트                |
| 6    | 로그인 실패     | 잘못된 이메일/비밀번호 입력 시         | -       | 에러 영역     | • 폼 상단에 빨간 배경의 에러 메시지 표시<br>• "Dismiss" 버튼 클릭 시 에러 메시지 숨김<br>• 폼은 초기화되지 않음                         | destructive 스타일        |
| 7    | 로딩 상태       | 로그인 요청 중                         | -       | 폼 전체       | • 모든 입력 필드 비활성화<br>• 버튼에 로딩 스피너 표시<br>• 버튼 클릭 불가                                                              | Loader2 아이콘 사용       |
| 8    | 회원가입 링크   | 계정이 없는 사용자가 회원가입하려 한다 | -       | 하단 링크     | • 텍스트: "Don't have an account? Sign up"<br>• "Sign up" 클릭 시 /register로 이동<br>• 호버 시 밑줄 표시                               | -                         |

### 에러 케이스

| 에러 상황              | 표시 메시지                 | 동작                    |
| ---------------------- | --------------------------- | ----------------------- |
| 잘못된 이메일/비밀번호 | 서버에서 반환한 에러 메시지 | 에러 배너 표시, 폼 유지 |
| 네트워크 오류          | 연결 실패 메시지            | 에러 배너 표시          |
| 이메일 형식 오류       | 브라우저 기본 메시지        | HTML5 validation        |

---

## 페이지 2: 회원가입 (RegisterPage)

### 페이지 정보

- **경로**: `/register`
- **컴포넌트**: `RegisterPage`
- **인증 필요**: 아니오 (비로그인 사용자 접근)

### 기능 스펙

| 번호 | Domain             | User Story                          | UI 캡쳐 | 항목               | Spec.                                                                                                                                                                        | 참고사항                  |
| ---- | ------------------ | ----------------------------------- | ------- | ------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------- |
| 1    | 페이지 레이아웃    | 사용자가 회원가입 페이지에 접근한다 | -       | 전체 화면          | 화면 중앙에 회원가입 카드가 표시됨. 제목 "Create Account"과 부제 "Join to create your own AI writers" 표시                                                                   | 다크 테마 배경            |
| 2    | 이름 입력          | 사용자가 이름을 입력한다            | -       | 이름 필드          | • 라벨: "Name"<br>• placeholder: "Your name"<br>• 필수 입력 (required)<br>• 최대 255자<br>• 로딩 중 비활성화                                                                 | 첫 번째 필드              |
| 3    | 이메일 입력        | 사용자가 이메일을 입력한다          | -       | 이메일 필드        | • 라벨: "Email"<br>• placeholder: "you@example.com"<br>• 필수 입력 (required)<br>• HTML5 이메일 형식 검증<br>• 최대 255자<br>• 로딩 중 비활성화                              | 중복 검사는 서버에서      |
| 4    | 비밀번호 입력      | 사용자가 비밀번호를 입력한다        | -       | 비밀번호 필드      | • 라벨: "Password"<br>• placeholder: "At least 8 characters"<br>• 필수 입력 (required)<br>• 마스킹 처리<br>• **클라이언트/서버**: 최소 8자, 최대 128자<br>• 로딩 중 비활성화 | -                         |
| 5    | 비밀번호 확인      | 사용자가 비밀번호를 다시 입력한다   | -       | 비밀번호 확인 필드 | • 라벨: "Confirm Password"<br>• placeholder: "Confirm your password"<br>• 필수 입력 (required)<br>• 비밀번호와 일치해야 함<br>• 로딩 중 비활성화                             | 불일치 시 클라이언트 에러 |
| 6    | 회원가입 버튼      | 사용자가 회원가입 버튼을 클릭한다   | -       | 제출 버튼          | • 버튼 텍스트: "Create Account"<br>• 전체 너비 (w-full)<br>• 로딩 중: 스피너 아이콘 + 비활성화                                                                               | primary 스타일            |
| 7    | 비밀번호 불일치    | 비밀번호와 확인이 다를 때           | -       | 에러 영역          | • "Passwords do not match" 메시지 표시<br>• 폼 제출 차단<br>• 서버 요청 없음                                                                                                 | 클라이언트 검증           |
| 8    | 비밀번호 길이 부족 | 비밀번호가 8자 미만일 때            | -       | 에러 영역          | • "Password must be at least 8 characters" 메시지 표시<br>• 폼 제출 차단                                                                                                     | 클라이언트 검증           |
| 9    | 회원가입 성공      | 회원가입이 성공하면                 | -       | 전체               | • /login 페이지로 자동 이동<br>• 사용자에게 로그인 유도                                                                                                                      | 자동 로그인 아님          |
| 10   | 이메일 중복        | 이미 등록된 이메일로 가입 시도      | -       | 에러 영역          | • 서버 에러 메시지 표시<br>• "Dismiss" 버튼으로 에러 숨김 가능                                                                                                               | 서버 검증                 |
| 11   | 로딩 상태          | 회원가입 요청 중                    | -       | 폼 전체            | • 모든 입력 필드 비활성화<br>• 버튼에 로딩 스피너 표시<br>• 버튼 클릭 불가                                                                                                   | Loader2 아이콘 사용       |
| 12   | 에러 해제          | 사용자가 에러를 해제한다            | -       | 에러 영역          | • "Dismiss" 버튼 클릭<br>• validation 에러와 서버 에러 모두 해제됨                                                                                                           | -                         |
| 13   | 로그인 링크        | 이미 계정이 있는 사용자             | -       | 하단 링크          | • 텍스트: "Already have an account? Sign in"<br>• "Sign in" 클릭 시 /login으로 이동<br>• 호버 시 밑줄 표시                                                                   | -                         |

### 에러 케이스

| 에러 상황         | 표시 메시지                            | 검증 위치          |
| ----------------- | -------------------------------------- | ------------------ |
| 비밀번호 불일치   | Passwords do not match                 | 클라이언트         |
| 비밀번호 8자 미만 | Password must be at least 8 characters | 클라이언트 + 서버  |
| 이메일 중복       | 서버 에러 메시지                       | 서버               |
| 이메일 형식 오류  | 브라우저 기본 메시지                   | 클라이언트 (HTML5) |

---

## QA 테스트 시나리오

### 로그인 테스트

| #   | 시나리오                        | 기대 결과                  |
| --- | ------------------------------- | -------------------------- |
| 1   | 유효한 이메일/비밀번호로 로그인 | /writers로 이동, 토큰 저장 |
| 2   | 잘못된 이메일로 로그인          | 에러 메시지 표시, 폼 유지  |
| 3   | 잘못된 비밀번호로 로그인        | 에러 메시지 표시, 폼 유지  |
| 4   | 빈 이메일로 제출                | HTML5 required 검증        |
| 5   | 빈 비밀번호로 제출              | HTML5 required 검증        |
| 6   | 잘못된 이메일 형식              | HTML5 email 검증           |
| 7   | 로딩 중 폼 제출 시도            | 버튼 비활성화로 차단       |

### 회원가입 테스트

| #   | 시나리오                | 기대 결과                                |
| --- | ----------------------- | ---------------------------------------- |
| 1   | 모든 필드 유효하게 입력 | /login으로 이동                          |
| 2   | 비밀번호 7자 입력       | 클라이언트 에러 "at least 8 characters"  |
| 3   | 비밀번호 불일치         | 클라이언트 에러 "Passwords do not match" |
| 4   | 중복 이메일             | 서버 에러 메시지                         |
| 5   | Dismiss 버튼 클릭       | 에러 메시지 숨김                         |
| 6   | 회원가입 후 로그인      | 정상 로그인 가능                         |

---

## 성능 요구사항

| 기능          | 목표 시간 |
| ------------- | --------- |
| 로그인 응답   | < 500ms   |
| 회원가입 응답 | < 500ms   |
| 페이지 로드   | < 1초     |

---

## 접근성 요구사항

- 모든 입력 필드에 Label 연결
- 키보드만으로 폼 제출 가능 (Tab + Enter)
- 에러 메시지 스크린리더 접근 가능
- 로딩 상태 시각적 표시
